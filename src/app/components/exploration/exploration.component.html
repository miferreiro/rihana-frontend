<!--
  ~ RIHANA Frontend
  ~
  ~ Copyright (C) 2021-2022 David A. Ruano Ordás, José Ramón Méndez Reboredo,
  ~ Miguel Ferreiro Díaz
  ~
  ~ This program is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU General Public License as
  ~ published by the Free Software Foundation, either version 3 of the
  ~ License, or (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU General Public License for more details.
  ~
  ~ You should have received a copy of the GNU General Public
  ~ License along with this program.  If not, see
  ~ <http://www.gnu.org/licenses/gpl-3.0.html>.
-->

<div class="container pb-5">
	<div class="row mt-4 mb-4">
		<h1 *ngIf="exploration.title != undefined || isEditing" class="h2 text-center fw-bold">{{exploration.title}}</h1>
		<h1 *ngIf="exploration.title == undefined" class="h2 text-center fw-bold">{{'Creating an exploration' | translate}}</h1>
	</div>
	<div *ngIf="exploration.explorationDate != undefined" class="row mt-4 mb-4">
		<div class="row align-items-center">
			<div class="col-xxl-6 col-12">
				<div class="row source-title">
					<h2 class="h3 fw-bold">Source</h2>
				</div>
			</div>
			<div class="col-xxl-6 col-12">
				<form class ="row text-center" action="">
					<div class="col-6">
						<input type="radio" name="source" value="SERGAS" (click)="setSergasSource()" [checked]="exploration.source === 'SERGAS'" [disabled]="isDisabled()"> SERGAS
					</div>
					<div class="col-6">
						<input type="radio" name="source" value="PADCHEST" (click)="setPadchestSource()" [checked]="exploration.source === 'PADCHEST'" [disabled]="isDisabled()"> PADCHEST
					</div>
				</form>
			</div>
		</div>
	</div>
	<app-report *ngIf="exploration.explorationDate != undefined" [exploration]="exploration" [isEditing]="isEditing" (reportEvent)="reportHandler($event)"></app-report>
	<app-radiology-analysis *ngIf="exploration.explorationDate != undefined" [exploration]="exploration" [isEditing]="isEditing" (radiographs)="radiographsHandler($event)" (explorationType)="setExplorationType($event)"></app-radiology-analysis>
</div>
<footer class="footer mt-auto py-1 fixed-bottom bg-light">
	<div class="container">
		<div class="row justify-content-between text-center">
			<i title="{{'Back' | translate}}" class="col bi bi-arrow-left-circle" style="color:steelblue;" (click)="closeExploration()"></i>
			<i *ngIf="exploration.title == undefined || isEditing" title="{{'Confirm' | translate}}" class="col bi bi-check-circle" style="color: green;"
			   (click)="saveExploration()"></i>
		</div>
	</div>
</footer>

<div class="my-overlay" *ngIf="showOverlay">
	<div class="loader">
		<div class="loader--dot"></div>
		<div class="loader--dot"></div>
		<div class="loader--dot"></div>
		<div class="loader--dot"></div>
		<div class="loader--dot"></div>
		<div class="loader--dot"></div>
		<div class="loader--text">{{messageOverlay | translate}}<span class="points"></span></div>
	</div>
</div>