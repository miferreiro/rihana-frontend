<!--
  ~ RIHANA Frontend
  ~
  ~ Copyright (C) 2021 David A. Ruano Ordás, José Ramón Méndez Reboredo,
  ~ Miguel Ferreiro Díaz
  ~
  ~ This program is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU General Public License as
  ~ published by the Free Software Foundation, either version 3 of the
  ~ License, or (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU General Public License for more details.
  ~
  ~ You should have received a copy of the GNU General Public
  ~ License along with this program.  If not, see
  ~ <http://www.gnu.org/licenses/gpl-3.0.html>.
-->

<div class="row form-div">
	<form class="form-signin" (submit)="logIn()" ngNativeValidate #loginForm="ngForm">
		<h1 class="title h2"><h2 class="h5">{{'Welcome to' | translate}}</h2> RIHANA</h1>

		<div class="form-floating">
			<input id="login_username" name="username" class="form-input" type="text" #usernameForm="ngModel"
				[(ngModel)]="login" required pattern="[a-zA-ZñÑ0-9_-]{1,100}"
				title="{{'Must be an alphanumeric' | translate}}" placeholder="{{'Username' | translate}}">
			<div *ngIf="loginForm.submitted && usernameForm.invalid" class="alert alert-danger">
				<div *ngIf="usernameForm.errors.required">{{'Username is required.' | translate}}</div>
				<div *ngIf="usernameForm.errors.pattern">
					{{'Username can only contain letters, numbers or underscore and should have a length between 1 and 100.' | translate}}
				</div>
			</div>
		</div>
		<div class="form-floating">
			<input id="login_password" name="password" class="form-input" type="password" #passwordForm="ngModel"
				[(ngModel)]="password" required placeholder="{{'Password' | translate}}" minlength="6">
			<div *ngIf="loginForm.submitted && passwordForm.invalid" class="alert alert-danger">
				<div *ngIf="passwordForm.errors.required">{{'Password is required.' | translate}}</div>
				<div *ngIf="passwordForm.errors.minlength">
					{{'Password can\'t be shorter than 6 characters.' | translate}}
				</div>
			</div>
		</div>
		<button type="submit" class="w-100 btn btn-lg">{{'Login' | translate}}</button>
	</form>
</div>

<simple-notifications></simple-notifications>